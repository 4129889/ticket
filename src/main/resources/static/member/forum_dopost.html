<!DOCTYPE html>
<html lang="en">

<head>
	<title>NewViewForum - doPost</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!--===============================================================================================-->
	<link rel="icon" type="image/png" href="images/icons/favicon.png" />
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="fonts/iconic/css/material-design-iconic-font.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="fonts/linearicons-v1.0.0/icon-font.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/animate/animate.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/css-hamburgers/hamburgers.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/animsition/css/animsition.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/select2/select2.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/perfect-scrollbar/perfect-scrollbar.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="css/util.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">
	<link href="./assets/dist/css/bootstrap.min.css" rel="stylesheet">
	<!--===============================================================================================-->
	<style>
		.h2 {
			color: black;
		}

		.centered-content {
			text-align: center;
			/* 水平居中对齐 */
		}

		input[disabled] {
			background-color: #eee;
			cursor: not-allowed;
		}


		.drop_zone,
		.preview {
			width: 48%;
			/* 設定拖放區和預覽區的寬度為容器的一半 */
			border: 2px dashed #ccc;
			height: 300px;
			text-align: center;
			cursor: pointer;
			display: inline-block;
			margin: 5px;
			box-sizing: border-box;
			min-height: 300px;
			/* 设置最小高度，根据需要调整 */
			/* 设置box-sizing属性 */
		}

		.preview_img {
			width: 100%;
			/* 讓圖片填滿整個預覽格子 */
			height: 100%;
			object-fit: contain;
			/* 調整圖片的呈現方式，保持原始比例 */

		}

		.drop_zone.-on {
			width: 48%;
			height: 300px;
			background-color: rgba(0, 0, 0, 0);
			/* 使用透明的背景颜色 */
			padding: 20px;
			/* 添加一些间距来占位，可以根据需要调整 */
		}

		@media (max-width: 768px) {

			.drop_zone,
			.preview {
				display: block;
				width: auto;
				margin-right: 0;
			}
		}

		body.no-scroll {
			overflow: hidden;
		}
	</style>

</head>

<body class="animsition">

	<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
	<script src="./vendors/jquery/jquery-3.7.1.min.js"></script>
	<!-- Header -->
	<header class="header-v3" style=" background-color: black;">
		<!-- Header desktop -->
		<div class="container-menu-desktop trans-03">
			<div class="wrap-menu-desktop">
				<nav class="limiter-menu-desktop p-l-45">
					<!-- Logo desktop -->
					<a href="./home-03.html" class="logo" style="color: white; font-size: large; font-weight: bold">
						<!-- <img src="images/icons/logo-02.png" alt="IMG-LOGO"> -->
						NewView
					</a>

					<!-- Menu desktop -->
					<div class="menu-desktop">
						<ul class="main-menu" style="font-weight: bold">
							<li>
								<a href="home-03.html">主頁</a>
							</li>

							<li>
								<a href="product.html">活動專區</a>
							</li>

							<li class="label1" data-label1="hot">
								<a href="shoping-cart.html">購物車</a>
							</li>

							<li>
								<a href="blog.html">討論區</a>
							</li>

							<li>
								<a href="about.html">關於我們</a>
							</li>

							<li>
								<a href="contact.html">聯絡我們</a>
							</li>

							<li>
								<a href="#">常見問題</a>
							</li>
						</ul>
					</div>

					<!-- Icon header -->
					<div class="wrap-icon-header flex-w flex-r-m h-full">
						<div class="flex-c-m h-full p-r-25 bor6">
							<div class="icon-header-item cl0 hov-cl1 trans-04 p-lr-11 js-show-login">
								<i class="fa fa-user me-sm-1"></i>
							</div>
							<div class="icon-header-item cl0 hov-cl1 trans-04 p-lr-11 icon-header-noti js-show-cart"
								data-notify="2">
								<i class="zmdi zmdi-shopping-cart"></i>
							</div>
						</div>

						<div class="flex-c-m h-full p-lr-19">
							<div class="icon-header-item cl0 hov-cl1 trans-04 p-lr-11 js-show-sidebar">
								<i class="zmdi zmdi-menu"></i>
							</div>
						</div>
					</div>
				</nav>
			</div>
		</div>

		<!-- Header Mobile -->
		<div class="wrap-header-mobile">
			<!-- Logo moblie -->
			<div class="logo-mobile">
				<a href="home-03.html" style="color: black; font-size: large; font-weight: bold">
					<!-- <img src="images/icons/logo-01.png" alt="IMG-LOGO"/> -->
					NewView
				</a>
			</div>

			<!-- Icon header -->
			<div class="wrap-icon-header flex-w flex-r-m h-full m-r-15">
				<div class="flex-c-m h-full p-r-5">
					<div class="icon-header-item cl2 hov-cl1 trans-04 p-lr-11 js-show-login">
						<i class="fa fa-user me-sm-1"></i>
					</div>
					<div class="icon-header-item cl2 hov-cl1 trans-04 p-lr-11 icon-header-noti js-show-cart"
						data-notify="2">
						<i class="zmdi zmdi-shopping-cart"></i>
					</div>
				</div>
			</div>

			<!-- Button show menu -->
			<div class="btn-show-menu-mobile hamburger hamburger--squeeze">
				<span class="hamburger-box">
					<span class="hamburger-inner"></span>
				</span>
			</div>
		</div>

		<!-- Menu Mobile -->
		<div class="menu-mobile">
			<ul class="main-menu-m" style="font-weight: bold">
				<!-- <li>
		<a href="index.html">Home</a>
		<ul class="sub-menu-m">
		  <li><a href="index.html">Homepage 1</a></li>
		  <li><a href="home-02.html">Homepage 2</a></li>
		  <li><a href="home-03.html">Homepage 3</a></li>
		</ul>
		<span class="arrow-main-menu-m">
		  <i class="fa fa-angle-right" aria-hidden="true"></i>
		</span>
	  </li> -->
				<li>
					<a href="home-03.html">主頁</a>
					<span class="arrow-main-menu-m">
						<i class="fa fa-angle-right" aria-hidden="true"></i>
					</span>
				</li>

				<li>
					<a href="product.html">活動專區</a>
				</li>

				<li>
					<a href="shoping-cart.html" class="label1 rs1" data-label1="hot">購物車</a>
				</li>

				<li>
					<a href="blog.html">討論區</a>
				</li>

				<li>
					<a href="about.html">關於我們</a>
				</li>

				<li>
					<a href="contact.html">聯絡我們</a>
				</li>

				<li>
					<a href="#">常見問題</a>
				</li>
			</ul>
		</div>

		<!-- Modal Search -->
		<div class="modal-search-header flex-c-m trans-04 js-hide-modal-search">
			<button class="flex-c-m btn-hide-modal-search trans-04">
				<i class="zmdi zmdi-close"></i>
			</button>

			<form class="container-search-header">
				<div class="wrap-search-header">
					<input class="plh0" type="text" name="search" placeholder="Search..." />

					<button class="flex-c-m trans-04">
						<i class="zmdi zmdi-search"></i>
					</button>
				</div>
			</form>
		</div>
	</header>

	<!-- Sidebar -->
	<aside class="wrap-sidebar js-sidebar">
		<div class="s-full js-hide-sidebar"></div>

		<div class="sidebar flex-col-l p-t-22 p-b-25">
			<div class="flex-r w-full p-b-30 p-r-27">
				<div class="fs-35 lh-10 cl2 p-lr-5 pointer hov-cl1 trans-04 js-hide-sidebar">
					<i class="zmdi zmdi-close"></i>
				</div>
			</div>

			<div class="sidebar-content flex-w w-full p-lr-65 js-pscroll">
				<ul class="sidebar-link w-full">
					<!-- <li class="p-b-13">
		  <a href="index.html" class="stext-102 cl2 hov-cl1 trans-04">
			Home
		  </a>
		</li> -->
					<li class="p-b-13">
						<a href="home-03.html" class="stext-102 cl2 hov-cl1 trans-04"> 主頁 </a>
					</li>

					<li class="p-b-13">
						<a href="#" class="stext-102 cl2 hov-cl1 trans-04"> 我的最愛 </a>
					</li>

					<li class="p-b-13">
						<a href="#" class="stext-102 cl2 hov-cl1 trans-04"> 會員中心 </a>
					</li>

					<li class="p-b-13">
						<a href="#" class="stext-102 cl2 hov-cl1 trans-04"> 訂單查詢 </a>
					</li>

					<li class="p-b-13">
						<a href="#" class="stext-102 cl2 hov-cl1 trans-04"> Refunds </a>
					</li>

					<li class="p-b-13">
						<a href="#" class="stext-102 cl2 hov-cl1 trans-04"> Help & FAQs </a>
					</li>
				</ul>

				<div class="sidebar-gallery w-full p-tb-30">
					<span class="mtext-101 cl5"> @ NewView </span>

					<div class="flex-w flex-sb p-t-36 gallery-lb">
						<!-- item gallery sidebar -->
						<div class="wrap-item-gallery m-b-10">
							<a class="item-gallery bg-img1" href="https://picsum.photos/200" data-lightbox="gallery"
								style="background-image: url('https://picsum.photos/200')"></a>
						</div>

						<!-- item gallery sidebar -->
						<div class="wrap-item-gallery m-b-10">
							<a class="item-gallery bg-img1" href="https://picsum.photos/200" data-lightbox="gallery"
								style="background-image: url('https://picsum.photos/200')"></a>
						</div>

						<!-- item gallery sidebar -->
						<div class="wrap-item-gallery m-b-10">
							<a class="item-gallery bg-img1" href="https://picsum.photos/200" data-lightbox="gallery"
								style="background-image: url('https://picsum.photos/200')"></a>
						</div>

						<!-- item gallery sidebar -->
						<div class="wrap-item-gallery m-b-10">
							<a class="item-gallery bg-img1" href="https://picsum.photos/200" data-lightbox="gallery"
								style="background-image: url('https://picsum.photos/200')"></a>
						</div>

						<!-- item gallery sidebar -->
						<div class="wrap-item-gallery m-b-10">
							<a class="item-gallery bg-img1" href="https://picsum.photos/200" data-lightbox="gallery"
								style="background-image: url('https://picsum.photos/200')"></a>
						</div>

						<!-- item gallery sidebar -->
						<div class="wrap-item-gallery m-b-10">
							<a class="item-gallery bg-img1" href="https://picsum.photos/200" data-lightbox="gallery"
								style="background-image: url('https://picsum.photos/200')"></a>
						</div>

						<!-- item gallery sidebar -->
						<div class="wrap-item-gallery m-b-10">
							<a class="item-gallery bg-img1" href="https://picsum.photos/200" data-lightbox="gallery"
								style="background-image: url('https://picsum.photos/200')"></a>
						</div>

						<!-- item gallery sidebar -->
						<div class="wrap-item-gallery m-b-10">
							<a class="item-gallery bg-img1" href="https://picsum.photos/200" data-lightbox="gallery"
								style="background-image: url('https://picsum.photos/200')"></a>
						</div>

						<!-- item gallery sidebar -->
						<div class="wrap-item-gallery m-b-10">
							<a class="item-gallery bg-img1" href="https://picsum.photos/200" data-lightbox="gallery"
								style="background-image: url('https://picsum.photos/200')"></a>
						</div>
					</div>
				</div>

				<div class="sidebar-gallery w-full">
					<span class="mtext-101 cl5"> About Us </span>

					<p class="stext-108 cl6 p-t-27">
						Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur maximus vulputate
						hendrerit.
						Praesent faucibus erat vitae rutrum gravida. Vestibulum tempus mi enim, in molestie sem
						fermentum quis.
					</p>
				</div>
			</div>
		</div>
	</aside>

	<!-- Cart -->
	<div class="wrap-header-cart js-panel-cart">
		<div class="s-full js-hide-cart"></div>

		<div class="header-cart flex-col-l p-l-65 p-r-25">
			<div class="header-cart-title flex-w flex-sb-m p-b-8">
				<span class="mtext-103 cl2"> Your Cart </span>

				<div class="fs-35 lh-10 cl2 p-lr-5 pointer hov-cl1 trans-04 js-hide-cart">
					<i class="zmdi zmdi-close"></i>
				</div>
			</div>

			<div class="header-cart-content flex-w js-pscroll">
				<ul class="header-cart-wrapitem w-full">
					<li class="header-cart-item flex-w flex-t m-b-12">
						<div class="header-cart-item-img">
							<img src="images/item-cart-01.jpg" alt="IMG" />
						</div>

						<div class="header-cart-item-txt p-t-8">
							<a href="#" class="header-cart-item-name m-b-18 hov-cl1 trans-04"> White Shirt Pleat
							</a>

							<span class="header-cart-item-info"> 1 x $19.00 </span>
						</div>
					</li>

					<li class="header-cart-item flex-w flex-t m-b-12">
						<div class="header-cart-item-img">
							<img src="images/item-cart-02.jpg" alt="IMG" />
						</div>

						<div class="header-cart-item-txt p-t-8">
							<a href="#" class="header-cart-item-name m-b-18 hov-cl1 trans-04"> Converse All Star
							</a>

							<span class="header-cart-item-info"> 1 x $39.00 </span>
						</div>
					</li>

					<li class="header-cart-item flex-w flex-t m-b-12">
						<div class="header-cart-item-img">
							<img src="images/item-cart-03.jpg" alt="IMG" />
						</div>

						<div class="header-cart-item-txt p-t-8">
							<a href="#" class="header-cart-item-name m-b-18 hov-cl1 trans-04"> Nixon Porter
								Leather </a>

							<span class="header-cart-item-info"> 1 x $17.00 </span>
						</div>
					</li>
				</ul>

				<div class="w-full">
					<div class="header-cart-total w-full p-tb-40">Total: $75.00</div>

					<div class="header-cart-buttons flex-w w-full">
						<a href="shoping-cart.html"
							class="flex-c-m stext-101 cl0 size-107 bg3 bor2 hov-btn3 p-lr-15 trans-04 m-r-8 m-b-10">
							View Cart </a>

						<a href="shoping-cart.html"
							class="flex-c-m stext-101 cl0 size-107 bg3 bor2 hov-btn3 p-lr-15 trans-04 m-b-10">
							Check Out
						</a>
					</div>
				</div>
			</div>
		</div>
	</div>


	<!-- ===================================================== -->


	<!-- Title page -->
	<section class="bg-img1 txt-center p-lr-15 p-tb-92" style="background-image: url('./img/banner.jpg');">
		<h4 class="ltext-105 cl0 txt-center "><strong>讓我們開始寫下你的分享文章吧!</strong></h4>
	</section>


	<!-- Content page -->
	<section class="bg0 p-t-104 p-b-116">
		<div class="container">
			<!-- <div class="flex-w flex-tr"> -->
			<div class=" bor10 p-lr-60 p-t-55 p-b-70 p-lr-15-lg w-full-md">
				<form id="postform" action="/com.tha103.newview/DoPostServlet" method="post"
					enctype="multipart/form-data" name="action" value="add">

					<h4 class="mtext-105 cl2 txt-center p-b-30">
						填入文章資料
					</h4>

					<div class="form-group">
						<label for="posttitle"><strong>文章標題</strong></label>
						<input type="text" id="posttitle" class="form-control" name="postHeader"
							placeholder="text your title" required>
						<div class="invalid-feedback">請輸入標題</div>
					</div>

					<div class="form-group ">
						<label for="postcategory"><strong>文章類別</strong></label>
						<select class="custom-select p-l-28 " id="postcategory" name="postCategoryID" required>
							<option value="">select category</option>
							<option value="1">綜合討論All(換票、揪團)</option>
							<option value="2">音樂表演Music</option>
							<option value="3">戲劇表演Drama</option>
							<option value="4">舞蹈表演Dance</option>
							<option value="5">脫口秀Talk Show</option>
							<option value="6">演唱會Singing Concert</option>
							<option value="7">講座Lecture</option>
						</select>
						<div class="invalid-feedback">未選擇類別</div>
					</div>

					<div class="form-group ">
						<label for="postcontent"><strong>文章內容</strong></label>
						<textarea id="postcontent" class="form-control stext-111 cl2 plh3 size-120 p-lr-10 p-tb-25"
							name="postContent" placeholder="text your content" required></textarea>
						<div class="invalid-feedback">請輸入內容</div>
					</div>


					<div>
						<label for="file"><br><strong>文章圖片(拖曳至下方區塊)</strong></label><br>
						<div class="centered-content">
							<!-- 第一個拖放區域和預覽區域 -->
							<input type="file" id="file1" name="postPic1" style="display: none;">
							<div class="drop_zone" id="drop_zone1"><span class="text">將圖片1拖曳至此處</span></div>
							<div class="preview" id="preview1"><span class="text">預覽圖</span></div>

							<!-- 第二個拖放區域和預覽區域 -->
							<input type="file" id="file2" name="postPic2" style="display: none;">
							<div class="drop_zone" id="drop_zone2"><span class="text">將圖片2拖曳至此處</span></div>
							<div class="preview" id="preview2"><span class="text">預覽圖</span></div>

							<!-- 第三個拖放區域和預覽區域 -->
							<input type="file" id="file3" name="postPic3" style="display: none;">
							<div class="drop_zone" id="drop_zone3"><span class="text">將圖片3拖曳至此處</span></div>
							<div class="preview" id="preview3"><span class="text">預覽圖</span></div>
						</div>
						<div class="invalid-feedback">發文不附圖，此風不可長</div>
					</div>
					<br>
					<br>
					<br>
					<br>
					<button class="flex-c-m stext-101 cl0 size-121 bg3 bor1 hov-btn3 p-lr-15 trans-04 pointer"
						type="submit" id="submitpost">
						<!-- 						<input type="hidden" name="action" value="add"> -->

						Submit
					</button>
				</form>
			</div>

		</div>
		</div>
	</section>

	<!-- Footer -->
	<footer class="bg3 p-t-55 p-b-32">
		<div class="container">
			<div class="row">
				<div class="col-sm-6 col-lg-3 p-b-20 text-left">
					<h4 class="stext-301 cl0 p-b-30 text-left">Categories</h4>
					<ul style="border-right: 1px solid #ccc; padding-right: 20px">
						<li class="p-b-10">
							<a href="#" class="stext-107 cl7 hov-cl1 trans-04 "> 脫口秀 </a>
						</li>

						<li class="p-b-10">
							<a href="#" class="stext-107 cl7 hov-cl1 trans-04 "> 講座 </a>
						</li>

						<li class="p-b-10">
							<a href="#" class="stext-107 cl7 hov-cl1 trans-04 "> 音樂會 </a>
						</li>

						<li class="p-b-10">
							<a href="#" class="stext-107 cl7 hov-cl1 trans-04 "> 舞台劇 </a>
						</li>

						<li class="p-b-10">
							<a href="#" class="stext-107 cl7 hov-cl1 trans-04 "> 演唱會 </a>
						</li>
					</ul>
				</div>

				<div class="col-sm-6 col-lg-3 p-b-20 text-left">
					<h4 class="stext-301 cl0 p-b-30 text-left">Help</h4>

					<ul>
						<li class="p-b-10">
							<a href="#" class="stext-107 cl7 hov-cl1 trans-04"> 訂單查詢 </a>
						</li>

						<li class="p-b-10">
							<a href="#" class="stext-107 cl7 hov-cl1 trans-04"> 退貨申請 </a>
						</li>

						<!-- <li class="p-b-10">
							<a href="#" class="stext-107 cl7 hov-cl1 trans-04"> Shipping </a>
						</li> -->

						<li class="p-b-10">
							<a href="#" class="stext-107 cl7 hov-cl1 trans-04"> FAQs </a>
						</li>
					</ul>
				</div>

				<div class="col-sm-6 col-lg-3 p-b-20">
					<h4 class="stext-301 cl0 p-b-30 text-left">Newsletter</h4>

					<form>
						<div class="wrap-input1 w-full p-b-4">
							<input class="input1 bg-none plh1 stext-107 cl7" type="text" name="email"
								placeholder="email@example.com" />
							<div class="focus-input1 trans-04"></div>
						</div>

						<div class="p-t-18">
							<button
								class="flex-c-m stext-101 cl0 size-103 bg1 bor1 hov-btn2 p-lr-15 trans-04">訂閱電子報</button>
						</div>
					</form>
				</div>

				<div class="col-sm-5 col-lg-3 p-b-20">
					<h4 class="stext-301 cl0 p-b-30 text-left">Latest Blog Post</h4>
					<p class="stext-301 cl7 size-201 text-left">Ready to get started?</p>
					<p class="stext-107 cl7 size-201 text-left">Any questions? Let us know in store at 8th
						floor, 379
						Hudson St, New York, NY 10018 or call us on (+1) 96 716 6879</p>

					<div class="p-t-27">
						<a href="#" class="fs-18 cl7 hov-cl1 trans-04 m-r-16">
							<i class="fa fa-facebook"></i>
						</a>

						<a href="#" class="fs-18 cl7 hov-cl1 trans-04 m-r-16">
							<i class="fa fa-instagram"></i>
						</a>

						<a href="#" class="fs-18 cl7 hov-cl1 trans-04 m-r-16">
							<i class="fa fa-pinterest-p"></i>
						</a>
					</div>
				</div>
			</div>

			<div class="p-t-10">
				<p class="stext-107 cl6 txt-center">
					<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
					Copyright &copy;
					<script>
						document.write(new Date().getFullYear());
					</script>
					All rights reserved | Made with
					<i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="https://colorlib.com"
						target="_blank">Colorlib</a> &amp; distributed by
					<a href="https://themewagon.com" target="_blank">ThemeWagon</a>
					<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
				</p>
			</div>
		</div>
	</footer>




	<!-- Back to top -->
	<div class="btn-back-to-top" id="myBtn">
		<span class="symbol-btn-back-to-top">
			<i class="zmdi zmdi-chevron-up"></i>
		</span>
	</div>




	<!--====================================(JS開始)===========================================================-->
	<script>
		window.addEventListener("load", function () {
			var the_form = document.getElementById("postform");
			var btn_submit_el = document.getElementById("submitpost");
			var preview_els = [];

			// 添加拖放事件
			for (let i = 1; i <= 3; i++) {
				let drop_zone_el = document.getElementById("drop_zone" + i);
				let preview_el = document.getElementById("preview" + i);

				drop_zone_el.addEventListener("dragover", function (e) {
					e.preventDefault();
					e.target.classList.add("-on");
				});

				drop_zone_el.addEventListener("dragleave", function (e) {
					e.target.classList.remove("-on");
				});

				drop_zone_el.addEventListener("drop", function (e) {
					e.preventDefault();
					e.target.classList.remove("-on");
					if (e.dataTransfer.files.length > 0) {
						preview_img(e.dataTransfer.files[0], preview_el);
					}
				});
			}

			// 透過File取得預覽圖
			var preview_img = function (file, preview_el) {
				var reader = new FileReader();
				reader.readAsDataURL(file);

				reader.addEventListener("load", function () {
					let img_str = '<img src="' + reader.result + '" class="preview_img">';
					preview_el.innerHTML = img_str;


				});
				console.log(preview_img);
			};

			// 資料送出
			btn_submit_el.addEventListener("click", function (e) {
				e.preventDefault();
				var form_data = new FormData(the_form);

				// 圖片轉Base64
				var img_base64_els = document.querySelectorAll(".preview_img");
				var img_base64_array = [];

				img_base64_els.forEach(function (img_base64_el) {
					var img_base64 = img_base64_el.getAttribute("src").substring(22); // 去除圖片前綴字
					img_base64_array.push(img_base64);
				});

				form_data.append("img_base64", img_base64_array);
				console.log(img_base64_array);


				// 其他數據
				form_data.append("posttitle", document.getElementById("posttitle").value);
				form_data.append("postCategoryID", document.getElementById("postcategory").value);
				form_data.append("postcontent", document.getElementById("postcontent").value);
				form_data.append("action", "add");
				console.log("FormData:", form_data);



				$.ajax({
					url: `DoPostServlet`,
					type: "POST",
					data: form_data,
					contentType: false,
					processData: false,
					//			dataType: "json",
					success: function (data) {
						alert("文章已新增");
						location.href = "forum_home.html";
						// 成功處理後顯示
						console.log("success");
					},
					error: function (xhr) {
						console.log("error");
					}
				});



			});

		});

	</script>

	<!--===============================================================================================-->
	<script src="vendor/jquery/jquery-3.2.1.min.js"></script>
	<!--===============================================================================================-->
	<script src="vendor/animsition/js/animsition.min.js"></script>
	<!--===============================================================================================-->
	<script src="vendor/bootstrap/js/popper.js"></script>
	<script src="vendor/bootstrap/js/bootstrap.min.js"></script>
	<!--===============================================================================================-->
	<script src="vendor/select2/select2.min.js"></script>
	<script>
		$(".js-select2").each(function () {
			$(this).select2({
				minimumResultsForSearch: 20,
				dropdownParent: $(this).next('.dropDownSelect2')
			});
		})
	</script>
	<!--===============================================================================================-->
	<script src="vendor/MagnificPopup/jquery.magnific-popup.min.js"></script>
	<!--===============================================================================================-->
	<script src="vendor/perfect-scrollbar/perfect-scrollbar.min.js"></script>
	<script>
		$('.js-pscroll').each(function () {
			$(this).css('position', 'relative');
			$(this).css('overflow', 'hidden');
			var ps = new PerfectScrollbar(this, {
				wheelSpeed: 1,
				scrollingThreshold: 1000,
				wheelPropagation: false,
			});

			$(window).on('resize', function () {
				ps.update();
			})
		});
	</script>
	<!--===============================================================================================-->
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAKFWBqlKAGCeS1rMVoaNlwyayu0e0YRes"></script>
	<script src="js/map-custom.js"></script>
	<!--===============================================================================================-->
	<script src="js/main.js"></script>


</body>

</html>